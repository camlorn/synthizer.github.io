<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>0.8.X - The Synthizer Manual</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../favicon.svg">
        
        
        <link rel="shortcut icon" href="../favicon.png">
        
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        
        <link rel="stylesheet" href="../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">Tutorials</li><li class="chapter-item expanded "><a href="../tutorials/python.html"><strong aria-hidden="true">2.</strong> A Basic Python Tutorial</a></li><li class="chapter-item expanded "><a href="../tutorials/events.html"><strong aria-hidden="true">3.</strong> Events (alpha)</a></li><li class="chapter-item expanded "><a href="../tutorials/python_filters.html"><strong aria-hidden="true">4.</strong> Filters in Python</a></li><li class="chapter-item expanded affix "><li class="part-title">Concepts</li><li class="chapter-item expanded "><a href="../concepts/introduction.html"><strong aria-hidden="true">5.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../concepts/stability.html"><strong aria-hidden="true">6.</strong> Stability Guarantees</a></li><li class="chapter-item expanded "><a href="../concepts/signal_graph.html"><strong aria-hidden="true">7.</strong> The Signal Graph, Library Parameters, and limitations</a></li><li class="chapter-item expanded "><a href="../concepts/conventions.html"><strong aria-hidden="true">8.</strong> C API Conventions</a></li><li class="chapter-item expanded "><a href="../concepts/initialization.html"><strong aria-hidden="true">9.</strong> Logging, Initialization, and Shutdown</a></li><li class="chapter-item expanded "><a href="../concepts/object_model.html"><strong aria-hidden="true">10.</strong> Objects, Handles, and Properties</a></li><li class="chapter-item expanded "><a href="../concepts/filters.html"><strong aria-hidden="true">11.</strong> Filters</a></li><li class="chapter-item expanded "><a href="../concepts/streams.html"><strong aria-hidden="true">12.</strong> Streams</a></li><li class="chapter-item expanded "><a href="../concepts/3d_panning.html"><strong aria-hidden="true">13.</strong> 3D Panning </a></li><li class="chapter-item expanded "><a href="../concepts/channel_mixing.html"><strong aria-hidden="true">14.</strong> Channel Upmixing and Downmixing </a></li><li class="chapter-item expanded "><a href="../concepts/effects.html"><strong aria-hidden="true">15.</strong> Effects and Effect Routing</a></li><li class="chapter-item expanded affix "><li class="part-title">The Object Reference</li><li class="chapter-item expanded "><a href="../object_reference/context.html"><strong aria-hidden="true">16.</strong> Context</a></li><li class="chapter-item expanded "><a href="../object_reference/buffer.html"><strong aria-hidden="true">17.</strong> Buffer</a></li><li class="chapter-item expanded "><a href="../object_reference/source.html"><strong aria-hidden="true">18.</strong> Source (abstract)</a></li><li class="chapter-item expanded "><a href="../object_reference/direct_source.html"><strong aria-hidden="true">19.</strong> DirectSource</a></li><li class="chapter-item expanded "><a href="../object_reference/spatialized_source.html"><strong aria-hidden="true">20.</strong> SpatializedSource (abstract)</a></li><li class="chapter-item expanded "><a href="../object_reference/panned_source.html"><strong aria-hidden="true">21.</strong> PannedSource</a></li><li class="chapter-item expanded "><a href="../object_reference/source_3d.html"><strong aria-hidden="true">22.</strong> Source3D</a></li><li class="chapter-item expanded "><a href="../object_reference/generator.html"><strong aria-hidden="true">23.</strong> Generator (abstract)</a></li><li class="chapter-item expanded "><a href="../object_reference/streaming_generator.html"><strong aria-hidden="true">24.</strong> StreamingGenerator</a></li><li class="chapter-item expanded "><a href="../object_reference/buffer_generator.html"><strong aria-hidden="true">25.</strong> BufferGenerator</a></li><li class="chapter-item expanded "><a href="../object_reference/noise_generator.html"><strong aria-hidden="true">26.</strong> NoiseGenerator</a></li><li class="chapter-item expanded "><a href="../object_reference/global_effect.html"><strong aria-hidden="true">27.</strong> GlobalEffect</a></li><li class="chapter-item expanded "><a href="../object_reference/echo.html"><strong aria-hidden="true">28.</strong> Echo</a></li><li class="chapter-item expanded "><a href="../object_reference/fdn_reverb.html"><strong aria-hidden="true">29.</strong> FdnReverb</a></li><li class="chapter-item expanded affix "><li class="part-title">Appendecies</li><li class="chapter-item expanded "><a href="../appendices/audio_eq_cookbook.html"><strong aria-hidden="true">30.</strong> Audio EQ Cookbook</a></li><li class="chapter-item expanded affix "><li class="part-title">Release notes</li><li class="chapter-item expanded "><a href="../releases/0.8.x.html" class="active"><strong aria-hidden="true">31.</strong> 0.8.X</a></li><li class="chapter-item expanded "><a href="../releases/pre-0.8.html"><strong aria-hidden="true">32.</strong> 0.0 to 0.7.x</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">The Synthizer Manual</h1>

                    <div class="right-buttons">
                        
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="synthizer-08x"><a class="header" href="#synthizer-08x">Synthizer 0.8.x</a></h1>
<h2 id="highlights-of-this-release"><a class="header" href="#highlights-of-this-release">Highlights of this Release</a></h2>
<p>This release is about performance, and undoing the Linux rollback in 0.7.7.  As of this release,
all code paths from the external interface don't block on the audio thread in the best case.  An internal refactor and introduction
of a new command architecture unify a bunch of ad-hoc interfaces for fast inter-thread synchronization.</p>
<p>Specifically:</p>
<ul>
<li>Property reads are now a couple of atomic operations as opposed to a semaphore and waiting on the next audio tick.
Put another way, they're literally millions of times faster, and it's now possible to read things like <code>BufferGenerator.position</code> without issue.</li>
<li>property writes are now roughly 5 times faster than they used to be</li>
<li>object creation is essentially free</li>
<li>adding and removing generators from sources doesn't block</li>
<li>configuring routes for effects doesn't block</li>
</ul>
<p>There is one exception to the lack of blocking: if code does around 10000 operations per audio tick,
Synthizer will have no choice but to block due to internal resource exhaustion. If this proves to be an issue in practice, it is trivial to raise this limit further.</p>
<h2 id="a-note-on-breakage"><a class="header" href="#a-note-on-breakage">A Note on Breakage</a></h2>
<p>The above changes were a complex refactor.  In order to make them with as little chaos as possible Synthizer has begun introducing some basic unit tests, but nonetheless it is nearly impossible
to make a release like this one without issues.  You are encouraged to report issues against <a href="https://github.com/synthizer/synthizer/issues">Synthizer's GitHub repository</a>.</p>
<h2 id="compatibility"><a class="header" href="#compatibility">Compatibility</a></h2>
<p>Synthizer introduces the following compatibility breakages in this release:</p>
<p>In order to get the above performance increases, it was necessary to remove the ability to read object properties.  This has the side effect of hiding details
of object lifetime, which Synthizer may rely on in future.</p>
<p><code>FdnReverb.input_filter_enabled</code> and <code>FdnReverb.input_filter_cutoff</code> were removed.  Synthizer will be replacing
these with a  dedicated filter property type in the near future and opted to remove them now as to avoid an excessive number of releases that introduce backward-incompatible changes.</p>
<p>Property reads are now actually eventually consistent.  The manual preivously stated that it's possible for a read that comes after a write
to read a stale value, so code shouldn't have been relying on it.  In any case, Synthizer now uses this reservation for the above performance increases, and may break code
that incorrectly relied on the old behavior.</p>
<p>Synthizer has also changed the default panner strategy to <code>SYZ_PANNER_STRATEGY_STEREO</code>.  To re-enable HRTF, set this on a per-source basis.  The ability to set this default on a per-context basis will be introduced in the 0.8.x
series.  This change was made because HRTF is only useful for headphone users, and it is not possible
for Synthizer to reliably detect that case.  In general, stereo panning is safe on every
audio configuration including surround sound systems.</p>
<h2 id="patch-notes"><a class="header" href="#patch-notes">Patch Notes</a></h2>
<h3 id="080"><a class="header" href="#080">0.8.0</a></h3>
<ul>
<li>Initial release</li>
<li>Undo the rollbacks in 0.7.7 and reintroduce MSVC and Linux support.</li>
<li>Internal fix for wire filters, which now don't play silence.</li>
<li>A number of small fixes and slight quality improvements to reverb.</li>
<li>All of the massive performance increases from above.</li>
</ul>
<h2 id="081"><a class="header" href="#081">0.8.1</a></h2>
<ul>
<li>Miniaudio was improperly configured to use a conservative profile, rather than a low latency profile.
Caused extreme audio latency.</li>
</ul>
<h2 id="083"><a class="header" href="#083">0.8.3</a></h2>
<ul>
<li>Fix: FdnReverb.t60 = 0.0 no longer internally divides by 0.</li>
<li>fix: BufferGenerator again uses seconds for positions.  This was refactored incorrectly during 0.8.0's major changes.</li>
<li>Objects should now die faster when their handles are freed, due to holding
only weak references internally where possible when dispatching commands to the audio thread.</li>
</ul>
<h2 id="084"><a class="header" href="#084">0.8.4</a></h2>
<ul>
<li>Contexts and all generators now support <code>SYZ_P_GAIN</code>.</li>
<li>Contexts, sources, and generators now support play/pause via <code>syz_pause</code> and <code>syz_play</code>.
<ul>
<li>In Python, this is <code>src.pause()</code> and similar.</li>
</ul>
</li>
<li>As the first part of the event system, all Synthizer objects may now have arbitrary userdata associated with them:
<ul>
<li>In C, this is <code>syz_getUserdata</code> and <code>syz_setUserdata</code></li>
<li>In Python, this is <code>get_userdata</code> and <code>set_userdata</code></li>
<li>This will be documented properly when the rest of the event system exists, but can be used to link Synthizer
objects to non-Synthizer objects without having to maintain a custom mapping yourself.</li>
</ul>
</li>
<li>Slight memory savings.</li>
<li>Fix: deleting contexts no longer crashes.</li>
</ul>
<h2 id="085"><a class="header" href="#085">0.8.5</a></h2>
<ul>
<li>New function <code>syz_getObjectType</code> which queries the object type. Primarily
intended for bindings developers.</li>
<li>Fix: Synthizer no longer leaks megabytes of memory per second (issue #44).</li>
</ul>
<h2 id="086"><a class="header" href="#086">0.8.6</a></h2>
<p>This release contains somewhat experimental code to make decoding buffers faster by approximately 2X.  Please report any perceptible audio quality issues with <code>BufferGenerator</code>.</p>
<ul>
<li><code>syz_handleFree</code> now no-ops when passed <code>handle = 0</code>.</li>
<li>Fix: deleting sources in specific orders no longer causes audio artifacts (issue #46)</li>
</ul>
<h2 id="087"><a class="header" href="#087">0.8.7</a></h2>
<ul>
<li>Fix: the library no longer crashes due to internal races between handle deletion and execution of audio commands on the background thread
<ul>
<li>This fixes a number of crashes, most notably issue #50, which highlighted the issue due to effects relying heavily on commands.</li>
</ul>
</li>
<li>Fix: streaming generators no longer spuriously seek to the beginning of their audio after generating the first few MS of audio (issue #49)</li>
<li>Fix: <code>panning_scalar</code> will once more properly take effect if set immediately after <code>PannedSource</code> creation (issue #52)</li>
</ul>
<h2 id="088"><a class="header" href="#088">0.8.8</a></h2>
<ul>
<li>An <a href="../tutorials/events.html">event system</a>.  This is alpha, and changes are expected in 0.9.</li>
<li>Add <code>SYZ_P_PANNER_STRATEGY</code> to Context to default panner strategies for new sources.</li>
</ul>
<h2 id="089"><a class="header" href="#089">0.8.9</a></h2>
<ul>
<li>Fix: non-looping BufferGenerator with a pitch bend is no longer silent</li>
<li>Fix/improvement: In Python, Synthizer events inherit from a common base class.</li>
</ul>
<h2 id="0810"><a class="header" href="#0810">0.8.10</a></h2>
<p>This release is the long-awaited improved HRTF.  This might not be the final version, but it's much
better in quality and the scripts to generate it are now much easier to maintain.  Please leave any feedback
<a href="https://github.com/synthizer/synthizer/issues/27">here</a>.  in particular, it is not feasible to test the entire sphere,
so it may be possible to find azimuth/elevation combinations which do weird things.</p>
<h2 id="0811-0816"><a class="header" href="#0811-0816">0.8.11-0.8.16</a></h2>
<p>These releases are a test series for moving CI to GitHub Actions. Though not user-facing, 0.8.14 now blocks on successful Linux
CI for Ubuntu 20 and thus gives Linux support which is on par with Windows.</p>
<h2 id="0817"><a class="header" href="#0817">0.8.17</a></h2>
<p>The flagship feature of this release is <a href="../concepts/filters.html">filters</a>.  Pytyhon users
should see <a href="../tutorials/python_filters.html">the Python tutorial</a>.  Also:</p>
<ul>
<li>Synthizer now builds on Ubuntu 18.</li>
<li>Python no longer eroniously exports top-level enums due to undocumented Cython behavior.
<ul>
<li>If you were using ints as property values instead of enums or relying on the topp-level definition, you will need to update your code.  This was never intended to be part of the public API.</li>
</ul>
</li>
<li>It is possible to set generator gain before adding it to a source without triggering a crossfade. Internal changes
to the crossfade helpers should make bugs like this much rarer, and probably fixed others that were yet to be reported.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../appendices/audio_eq_cookbook.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../releases/pre-0.8.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../appendices/audio_eq_cookbook.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../releases/pre-0.8.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
